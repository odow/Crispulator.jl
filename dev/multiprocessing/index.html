<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Multiprocessing · Crispulator.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Crispulator.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Crispulator.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../custom/">Custom Simulations</a></li><li class="is-active"><a class="tocitem" href>Multiprocessing</a></li><li><a class="tocitem" href="../internals/">Crispulator Internals</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Multiprocessing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Multiprocessing</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/tlnagy/Crispulator.jl/blob/master/docs/src/multiprocessing.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Multiprocessing"><a class="docs-heading-anchor" href="#Multiprocessing">Multiprocessing</a><a id="Multiprocessing-1"></a><a class="docs-heading-anchor-permalink" href="#Multiprocessing" title="Permalink"></a></h1><p>If you want to scan a wider range of conditions then <code>Crispulator.jl</code>&#39;s multiprocessing capabilities can come in handy. Say you wanted to re-run one of the experiments from the paper, e.g.  <a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-017-1759-9/figures/11">Fig 11</a>,  we need to scan a decent number of conditions to generate the data. Accelerating this process by allowing the simulation to run on many cores at once can help make it more feasible. We can do this by supplying Julia with the <code>-p</code> flag followed by an integer of the number of additional cores we want to use.</p><pre><code class="language-julia hljs">julia -p 1 run.jl exp growth_sensitivity_library.jl growth_sensitivity_lib.csv</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">[ Info: Activating simulation environment
  Activating project at `~/work/Crispulator.jl/Crispulator.jl`
[ Info: Instantiating environment
    Updating registry at `~/.julia/registries/General.toml`
    Updating `~/work/Crispulator.jl/Crispulator.jl/Project.toml`
  [c7e460c6] + ArgParse v1.1.4
  [336ed68f] + CSV v0.10.7
  [a2cac450] + ColorBrewer v0.4.0
  [861a8166] + Combinatorics v1.0.2
  [a81c6b42] + Compose v0.9.4
  [a93c6f00] + DataFrames v1.4.3
  [864edb3b] + DataStructures v0.18.13
  [31c24e10] + Distributions v0.25.79
⌅ [ffbed154] + DocStringExtensions v0.8.6
  [c91e804a] + Gadfly v1.3.4
  [09f84164] + HypothesisTests v0.10.11
  [c8e1da08] + IterTools v1.4.0
  [442fdcdd] + Measures v0.3.2
  [92933f4c] + ProgressMeter v1.7.2
  [2913bbd2] + StatsBase v0.33.21
  [ddb6d928] + YAML v0.4.8
    Updating `~/work/Crispulator.jl/Crispulator.jl/Manifest.toml`
  [621f4979] + AbstractFFTs v1.2.1
  [79e6a3ab] + Adapt v3.4.0
  [c7e460c6] + ArgParse v1.1.4
  [13072b0f] + AxisAlgorithms v1.0.1
  [336ed68f] + CSV v0.10.7
  [49dc2e85] + Calculus v0.5.1
  [324d7699] + CategoricalArrays v0.10.7
  [d360d2e6] + ChainRulesCore v1.15.6
  [9e997f8a] + ChangesOfVariables v0.1.4
  [944b1d66] + CodecZlib v0.7.0
  [a2cac450] + ColorBrewer v0.4.0
  [3da002f7] + ColorTypes v0.11.4
  [5ae59095] + Colors v0.12.8
  [861a8166] + Combinatorics v1.0.2
  [38540f10] + CommonSolve v0.2.3
  [34da2185] + Compat v4.4.0
  [a81c6b42] + Compose v0.9.4
  [187b0558] + ConstructionBase v1.4.1
⌅ [d38c429a] + Contour v0.5.7
  [7ad07ef1] + CoupledFields v0.2.0
  [a8cc5b0e] + Crayons v4.1.1
  [9a962f9c] + DataAPI v1.13.0
  [a93c6f00] + DataFrames v1.4.3
  [864edb3b] + DataStructures v0.18.13
  [e2d170a0] + DataValueInterfaces v1.0.0
  [b429d917] + DensityInterface v0.4.0
  [b4f34e82] + Distances v0.10.7
  [31c24e10] + Distributions v0.25.79
⌅ [ffbed154] + DocStringExtensions v0.8.6
  [fa6b7ba4] + DualNumbers v0.6.8
  [7a1cc6ca] + FFTW v1.5.0
  [48062228] + FilePathsBase v0.9.20
  [1a297f60] + FillArrays v0.13.5
  [53c48c17] + FixedPointNumbers v0.8.4
  [59287772] + Formatting v0.4.2
  [c91e804a] + Gadfly v1.3.4
  [42e2da0e] + Grisu v1.0.2
  [a1b4810d] + Hexagons v0.2.0
  [34004b35] + HypergeometricFunctions v0.3.11
  [09f84164] + HypothesisTests v0.10.11
  [9b13fd28] + IndirectArrays v1.0.0
  [842dd82b] + InlineStrings v1.3.2
  [a98d9a8b] + Interpolations v0.14.6
  [3587e190] + InverseFunctions v0.1.8
  [41ab1584] + InvertedIndices v1.1.0
  [92d709cd] + IrrationalConstants v0.1.1
  [c8e1da08] + IterTools v1.4.0
  [82899510] + IteratorInterfaceExtensions v1.0.0
  [692b3bcd] + JLLWrappers v1.4.1
  [682c06a0] + JSON v0.21.3
  [e5e0dc1b] + Juno v0.8.4
  [5ab0869b] + KernelDensity v0.6.5
  [b964fa9f] + LaTeXStrings v1.3.0
  [4345ca2d] + Loess v0.5.4
  [2ab3a3ac] + LogExpFunctions v0.3.19
  [1914dd2f] + MacroTools v0.5.10
  [442fdcdd] + Measures v0.3.2
  [e89f7d12] + Media v0.5.0
  [e1d29d7a] + Missings v1.0.2
  [77ba4419] + NaNMath v1.0.1
  [6fe1bfb0] + OffsetArrays v1.12.8
  [bac558e1] + OrderedCollections v1.4.1
  [90014a1f] + PDMats v0.11.16
  [69de0a69] + Parsers v2.5.1
  [2dfb63ee] + PooledArrays v1.4.2
  [21216c6a] + Preferences v1.3.0
  [08abe8d2] + PrettyTables v2.2.1
  [92933f4c] + ProgressMeter v1.7.2
  [1fd47b50] + QuadGK v2.6.0
  [c84ed2f1] + Ratios v0.4.3
  [189a3867] + Reexport v1.2.2
  [ae029012] + Requires v1.3.0
  [79098fc4] + Rmath v0.7.0
  [f2b01f46] + Roots v2.0.8
  [91c51154] + SentinelArrays v1.3.16
  [efcf1570] + Setfield v1.1.1
  [992d4aef] + Showoff v1.0.3
  [66db9d55] + SnoopPrecompile v1.0.1
  [a2af1166] + SortingAlgorithms v1.1.0
  [276daf66] + SpecialFunctions v2.1.7
  [90137ffa] + StaticArrays v1.5.10
  [1e83bf80] + StaticArraysCore v1.4.0
  [82ae8749] + StatsAPI v1.5.0
  [2913bbd2] + StatsBase v0.33.21
  [4c63d2b9] + StatsFuns v1.0.1
  [69024149] + StringEncodings v0.3.5
  [892a3eda] + StringManipulation v0.3.0
  [3783bdb8] + TableTraits v1.0.1
  [bd369af6] + Tables v1.10.0
  [b718987f] + TextWrap v1.0.1
  [3bb67fe8] + TranscodingStreams v0.9.9
  [ea10d353] + WeakRefStrings v1.4.2
  [efce3f68] + WoodburyMatrices v0.5.5
  [ddb6d928] + YAML v0.4.8
  [f5851436] + FFTW_jll v3.3.10+0
  [1d5cc7b8] + IntelOpenMP_jll v2018.0.3+2
  [94ce4f54] + Libiconv_jll v1.16.1+1
  [856f044c] + MKL_jll v2022.2.0+0
  [efe28fd5] + OpenSpecFun_jll v0.5.5+0
  [f50d1b31] + Rmath_jll v0.3.0+0
  [0dad84c5] + ArgTools v1.1.1
  [56f22d72] + Artifacts
  [2a0f44e3] + Base64
  [ade2ca70] + Dates
  [8ba89e20] + Distributed
  [f43a241f] + Downloads v1.6.0
  [7b1f6079] + FileWatching
  [9fa8497b] + Future
  [b77e0a4c] + InteractiveUtils
  [4af54fe1] + LazyArtifacts
  [b27032c2] + LibCURL v0.6.3
  [76f85450] + LibGit2
  [8f399da3] + Libdl
  [37e2e46d] + LinearAlgebra
  [56ddb016] + Logging
  [d6f4376e] + Markdown
  [a63ad114] + Mmap
  [ca575930] + NetworkOptions v1.2.0
  [44cfe95a] + Pkg v1.8.0
  [de0858da] + Printf
  [9abbd945] + Profile
  [3fa0cd96] + REPL
  [9a3f8284] + Random
  [ea8e919c] + SHA v0.7.0
  [9e88b42a] + Serialization
  [1a1011a3] + SharedArrays
  [6462fe0b] + Sockets
  [2f01184e] + SparseArrays
  [10745b16] + Statistics
  [4607b0f0] + SuiteSparse
  [fa267f1f] + TOML v1.0.0
  [a4e569a6] + Tar v1.10.1
  [8dfed614] + Test
  [cf7118a7] + UUIDs
  [4ec0a83e] + Unicode
  [e66e0078] + CompilerSupportLibraries_jll v0.5.2+0
  [deac9b47] + LibCURL_jll v7.84.0+0
  [29816b5a] + LibSSH2_jll v1.10.2+0
  [c8ffd9c3] + MbedTLS_jll v2.28.0+0
  [14a3606d] + MozillaCACerts_jll v2022.2.1
  [4536629a] + OpenBLAS_jll v0.3.20+0
  [05823500] + OpenLibm_jll v0.8.1+0
  [83775a58] + Zlib_jll v1.2.12+3
  [8e850b90] + libblastrampoline_jll v5.1.1+0
  [8e850ede] + nghttp2_jll v1.48.0+0
  [3f19e933] + p7zip_jll v17.4.0+0
        Info Packages marked with ⌅ have new versions available but compatibility constraints restrict them from upgrading. To see why use `status --outdated -m`
  Activating project at `~/work/Crispulator.jl/Crispulator.jl`
[ Info: Loading simulation framework
[ Info: Using 2 threads
[ Info: Loading analysis code
[ Info: Running growth_sensitivity_library.jl and saving output in growth_sensitivity_lib_3ea2941_dirty.csv
[ Info: Constructing CSV
[ Info: Done
      From worker 2:	  Activating project at `~/work/Crispulator.jl/Crispulator.jl`</code></pre><p>So in this case we&#39;ll be using 1+1 cores to run the simulation. Naturally, on a big workstation/HPC you can scale up much more.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p><code>Crispulator.jl</code> can start to gobble up a lot of RAM with many cores. I would try increasing by one or two to see how the memory usage scales prior to trying to use all cores with the <code>-p auto</code> flag.</p></div></div><p>The output will be saved to the provided filename (with a suffix describing the state of the git repository).</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../custom/">« Custom Simulations</a><a class="docs-footer-nextpage" href="../internals/">Crispulator Internals »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Wednesday 23 November 2022 03:10">Wednesday 23 November 2022</span>. Using Julia version 1.8.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
